# üöÄ Global Settings

# Set the custom prefix key to Ctrl + Space
# This is a good choice as Ctrl + b can sometimes conflict or be awkward.
set-option -g prefix C-Space
unbind-key C-b # Unbind the default C-b prefix
bind-key C-Space send-prefix # Allows sending C-Space inside tmux if needed

# Use vi-style key bindings in copy mode
set-window-option -g mode-keys vi

# Start windows and panes numbering from 1 instead of 0
# Enable extended keys (CSI u)
set -g extended-keys on
set -as terminal-features 'xterm*:extkeys'

# Ensure the terminal is set correctly inside tmux
set -g default-terminal "tmux-256color"


set -g base-index 1
set -g pane-base-index 1


# Switch windows using Ctrl + number without prefix
bind-key -n M-1 select-window -t 1
bind-key -n M-2 select-window -t 2
bind-key -n M-3 select-window -t 3
bind-key -n M-4 select-window -t 4
bind-key -n M-5 select-window -t 5
bind-key -n M-6 select-window -t 6
bind-key -n M-7 select-window -t 7
bind-key -n M-8 select-window -t 8
bind-key -n M-9 select-window -t 9

# Automatically set the window title based on the command running
set-window-option -g automatic-rename on

# Enable mouse mode for scrolling and pane switching/resizing
set -g mouse on

# ‚å®Ô∏è Keybindings (Vim-style navigation and utility)

# Reload the configuration file with prefix + r
bind r source-file ~/.config/tmux/tmux.conf \; display-message "tmux config reloaded!"

# Split panes using | (vertical) and - (horizontal)
# This is easier to remember than the default % and "
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Vim-like pane switching (using prefix + h/j/k/l)
# This keeps the experience consistent with your Neovim/Hyprland setup.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# üí™ Poimandres Theme Configuration

# Define the colors (using Poimandres palette)
# Note: You might need to adjust these HEX values slightly based on your
# exact terminal's color interpretation, but these are standard Poimandres colors.

# üí™ Poimandres Theme Configuration (Updated for Segmented Bar)

# --- General Appearance ---


# Background: #1b1e28
# Foreground: #a6accd
# Blue (Active): #89ddff
# Green (Success): #5de4c7
# Yellow (Alert): #fffac2

# Status bar style
set -g status-style "fg=#a6accd,bg=#1b1e28"
set -g status-justify centre # Keep windows centered

# --- Left Segments (Session and System Info) ---

# Set a minimum length for the left side
set -g status-left-length 80

# LEFT SEGMENT 1: Session Name (Light Green BG)
# set -g status-left '#[fg=#1b1e28,bg=#89ddff] Session: #S #[fg=#89ddff,bg=#1b1e28]ÓÇ∞'
set -g status-left '#[fg=#1b1e28,bg=#89ddff] S: #S #[fg=#89ddff,bg=#1b1e28]ÓÇ∞'

# You can add more segments here, e.g., Hostname (using the standard status-right format)
# LEFT SEGMENT 2 (Optional: Add Hostname next to Session)
# set -g status-left '#[fg=#1b1e28,bg=#5de4c7] Session: #S #[fg=#5de4c7,bg=#1b1e28]ÓÇ∞#[fg=#a6accd,bg=#1b1e28] #h '

# --- Center Segment (Window List) ---

# Active window (Blue BG - Stands out)
set-window-option -g window-status-current-style "fg=#1b1e28,bg=#89ddff"
# Format: [Blue Block] Index: Name
set-window-option -g window-status-current-format '#[bg=#89ddff]#[fg=#1b1e28]ÓÇ∞#[bg=#89ddff]#[fg=#1b1e28] #I: #W #[bg=#1b1e28]#[fg=#89ddff]ÓÇ∞'

# Inactive windows (Foreground color on default BG)
set-window-option -g window-status-style "fg=#a6accd,bg=#1b1e28"
set-window-option -g window-status-format ' #I: #W '

# --- Right Segments (Date and Time) ---

# Right segment style
set -g status-right-style "fg=#a6accd,bg=#1b1e28"

# RIGHT SEGMENT 1: Date and Time (Blue BG)
# Format: [Blue Block] Time | Date
# We use ÓÇ≤ (reversed triangle) for the start of the right segment
# set -g status-right '#[fg=#89ddff,bg=#1b1e28]ÓÇ≤#[fg=#1b1e28,bg=#89ddff] #{cpu_icon} #{cpu_percentage} #[fg=#89ddff,bg=#1b1e28]ÓÇ≤#[fg=#1b1e28,bg=#89ddff] %H:%M | %d-%b '
set -g status-right '#[fg=#89ddff,bg=#1b1e28]ÓÇ≤#[fg=#1b1e28,bg=#89ddff] #{online_status} #[fg=#1b1e28,bg=#89ddff]| %H:%M | %d-%b '

# RIGHT SEGMENT 2: Battery/Other (If you installed a plugin, otherwise leave as is)
# set -g status-right '#[fg=#1b1e28,bg=#5de4c7]ÓÇ≤#[fg=#1b1e28,bg=#5de4c7] üîã 80% #[fg=#89ddff,bg=#1b1e28]ÓÇ≤#[fg=#1b1e28,bg=#89ddff] %H:%M | %d-%b '

# --- Messages and Alerts ---

# Alerts and Messages (Yellow background for visibility)
set -g message-style "fg=#1b1e28,bg=#fffac2"
set -g display-time 4000


# Plugins Configuration

# üîå TMUX Plugin Manager (TPM)
# Add this block at the very end of your ~/.config/tmux/tmux.conf

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible' # Adds a set of sensible default options

# Recommended Plugins for BaselAsh
set -g @plugin 'tmux-plugins/tmux-resurrect'  # Session persistence
set -g @plugin 'tmux-plugins/tmux-yank'      # Clipboard copy/paste
# Alternative system monitoring and enhanced session control
set -g @plugin 'tmux-plugins/tmux-online-status'
set -g @plugin 'tmux-plugins/tmux-continuum' # Works with resurrect for auto-saving
set -g @plugin 'tmux-plugins/tmux-pain-control'


# Initialize TMUX plugin manager (keep this line at the very bottom)
run '~/.config/tmux/plugins/tpm/tpm'
